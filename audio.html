<!DOCTYPE html>
<html>
<head>
  <title>Audio Automation Control</title>
</head>
<body>
<h2>Audio Automation Control</h2>

Volume:
<select id="vol">
  <script>
    for(let i=0;i<=30;i++)
      document.write(`<option>${i}</option>`);
  </script>
</select>
<button onclick="setVol()">Save</button><br><br>

<button onclick="mute(1)">Mute</button>
<button onclick="mute(0)">Unmute</button><br><br>

Folder: <input id="f" value="33">
File: <input id="s" value="1">
<button onclick="play()">Play</button>

<script>
const API = "https://lovelyideas.pythonanywhere.com/audio";

function setVol(){
  fetch(API,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({volume:+vol.value})
  }).then(()=>alert("Volume set"));
}
function mute(m){
  fetch(API,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({mute:m})
  }).then(()=>alert(m?"Muted":"Unmuted"));
}
function play(){
  fetch(API,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({play:{folder:+f.value,file:+s.value}})
  }).then(()=>alert("Play sent"));
}
</script>
</body>
</html>
